{
	"name": "Main Gameplay",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Loading Events"
		},
		{
			"eventType": "include",
			"includeSheet": "Debug Events"
		},
		{
			"eventType": "variable",
			"name": "stelliumStockpile",
			"type": "number",
			"initialValue": "0",
			"comment": "Amount of Stellium in the sector stockpile.",
			"isStatic": false,
			"isConstant": false,
			"sid": 779515009361628
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 926097818352499
				}
			],
			"actions": [
				{
					"id": "fill-ellipse",
					"objectClass": "DrawingCanvas",
					"sid": 434111339166890,
					"parameters": {
						"x": "DrawingCanvas.Width / 2",
						"y": "DrawingCanvas.Height / 2",
						"radius-x": "DrawingCanvas.Width / 2",
						"radius-y": "DrawingCanvas.Height / 2",
						"color": "rgba(100, 100, 100, 100)",
						"edge": "smooth"
					}
				}
			],
			"sid": 763817482197626,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 905410876500380,
							"parameters": {
								"object": "Planet"
							}
						}
					],
					"actions": [
						{
							"id": "set-speed",
							"objectClass": "Planet",
							"sid": 552562846471696,
							"behaviorType": "Rotate",
							"parameters": {
								"speed": "random(20,40) * choose(1, -1)"
							}
						}
					],
					"sid": 859302440258176
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 405275537144830
						}
					],
					"actions": [
						{
							"id": "move-to-position",
							"objectClass": "TradeShip",
							"sid": 124626727933247,
							"behaviorType": "MoveTo",
							"parameters": {
								"x": "Planet.X",
								"y": "Planet.Y",
								"mode": "direct"
							}
						}
					],
					"sid": 189342942436540
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Visualize trade ships moving between nodes."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 409814704176206,
					"parameters": {
						"interval-seconds": "0.01"
					}
				}
			],
			"actions": [],
			"sid": 995148693566923,
			"children": [
				{
					"eventType": "variable",
					"name": "sourcePlanet",
					"type": "number",
					"initialValue": "0",
					"comment": "UID of planet to spawn ship from.",
					"isStatic": false,
					"isConstant": false,
					"sid": 335834818102668
				},
				{
					"eventType": "variable",
					"name": "destinationPlanet",
					"type": "number",
					"initialValue": "0",
					"comment": "UID of planet to send ship to.",
					"isStatic": false,
					"isConstant": false,
					"sid": 985538257476315
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 665026295317104,
							"parameters": {
								"object": "Planet"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 904640016997212,
							"parameters": {
								"variable": "sourcePlanet",
								"value": "Planet.UID"
							}
						}
					],
					"sid": 697291999162594
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-random-instance",
							"objectClass": "System",
							"sid": 657589923013420,
							"parameters": {
								"object": "Planet"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 895351119771928,
							"parameters": {
								"variable": "destinationPlanet",
								"value": "Planet.UID"
							}
						}
					],
					"sid": 501909071595071
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 560255514415352,
							"parameters": {
								"object-to-create": "TradeShip",
								"layer": "\"Ships\"",
								"x": "0",
								"y": "0",
								"create-hierarchy": false,
								"template-name": "\"Standard Trade Ship\""
							}
						}
					],
					"sid": 536102455498010
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-last-created",
							"objectClass": "System",
							"sid": 688601477402412,
							"parameters": {
								"object": "TradeShip"
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "TradeShip",
							"sid": 122791227303108,
							"parameters": {
								"color": "rgbEx(random(100), random(100), random(100))"
							}
						},
						{
							"id": "set-scale",
							"objectClass": "TradeShip",
							"sid": 847545636852220,
							"disabled": true,
							"parameters": {
								"scale": ".2"
							}
						},
						{
							"type": "script",
							"script": "const ship = runtime.objects.TradeShip.getFirstPickedInstance();\nconst sourcePlanet = runtime.getInstanceByUid(localVars.sourcePlanet);\nconst destPlanet = runtime.getInstanceByUid(localVars.destinationPlanet);\nship.x = sourcePlanet.x;\nship.y = sourcePlanet.y;\nship.behaviors.MoveTo.moveToPosition(destPlanet.x, destPlanet.y);"
						}
					],
					"sid": 164038642576086
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-arrived",
					"objectClass": "TradeShip",
					"sid": 643361837948472,
					"behaviorType": "MoveTo"
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "TradeShip",
					"sid": 916318466240054
				}
			],
			"sid": 244642029274090
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 541847651363239
						}
					],
					"actions": [
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 113945356255947,
							"parameters": {
								"scale": "Camera.ZoomLevel"
							}
						}
					],
					"sid": 301519640374316
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "Camera",
							"sid": 642202338364842,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"zoom\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Camera",
							"sid": 272695869586273,
							"parameters": {
								"instance-variable": "ZoomLevel",
								"value": "Camera.Tween.Value(\"zoom\")"
							}
						}
					],
					"sid": 738815488945617
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 638189569391659,
							"parameters": {
								"object": "Planet"
							}
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Camera",
							"sid": 886901956359651,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "position",
								"end-x": "Planet.X",
								"end-y": "Planet.Y",
								"time": "ZOOM_TIME",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-value",
							"objectClass": "Camera",
							"sid": 255271792983532,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"zoom\"",
								"start-value": "Camera.ZoomLevel",
								"end-value": "4",
								"time": "ZOOM_TIME",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 448138578322803
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 866886507371575,
							"parameters": {
								"object": "ZoomButton"
							}
						}
					],
					"actions": [],
					"sid": 679432394782641,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 434225108704977,
									"parameters": {
										"value": "Camera.ZoomLevel = 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Camera",
									"sid": 711054718006572,
									"parameters": {
										"instance-variable": "ZoomLevel",
										"value": ".2"
									}
								}
							],
							"sid": 947972658420318
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 791620491980910
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Camera",
									"sid": 894827940279149,
									"parameters": {
										"instance-variable": "ZoomLevel",
										"value": "1"
									}
								}
							],
							"sid": 606539133442171
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-double-tap",
							"objectClass": "Touch",
							"sid": 970957617793849
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Camera",
							"sid": 699886974338426,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "position",
								"end-x": "Touch.X",
								"end-y": "Touch.Y",
								"time": "ZOOM_TIME",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 180929041585509
				}
			],
			"sid": 264496831334389
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "UI",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Update resource displays."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 471066900308712
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "runtime.objects.QuantiaDisplay.getFirstInstance().text = \"Quantia Generation: \" + GameUtils.getQuantiaRate(runtime) + \" surplus\";\nruntime.objects.StelliumDisplay.getFirstInstance().text = \n\"Stellium: \" + runtime.globalVars.stelliumStockpile + \" (+\" + GameUtils.getStelliumRate(runtime) + \"/yr)\";"
						}
					],
					"sid": 201205195501745
				}
			],
			"sid": 474990103053014
		}
	],
	"sid": 165260888475578
}